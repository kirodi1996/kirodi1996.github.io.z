(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{EeiY:function(e,r,s){"use strict";s.d(r,"a",(function(){return o}));var t=s("fXoL"),n=s("tyNb"),a=s("lGQG");let o=(()=>{class e{constructor(e,r){this.router=e,this.authService=r}canActivate(e,r){if(localStorage.getItem("accessToken"))return!0;this.router.navigate(["/login"])}}return e.\u0275fac=function(r){return new(r||e)(t.Sb(n.b),t.Sb(a.a))},e.\u0275prov=t.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lGQG:function(e,r,s){"use strict";s.d(r,"a",(function(){return g}));var t=s("tk/3"),n=s("2Vo4"),a=s("HDdC"),o=s("AytR"),i=s("lJxs"),u=s("JIr8"),h=function(e){return e.Success="Success",e.Error="Error",e.Information="Information",e.Warning="Warning",e.Exception="Exception",e.Confirm="Confirm",e.File="File",e}({});class l{constructor(e,r,s,t,n,a=!1,o=!1){this.isError=!1,this.isSessionExpired=!1,this.responseType=e,this.response=r,this.responseCode=s,this.resourceString=t,this.resourceParams=n,this.isError=a,this.isSessionExpired=o}}var c=s("fXoL"),p=s("tyNb"),d=s("IfdK");let g=(()=>{class e{constructor(e,r,s){this.http=e,this.router=r,this._sessionManager=s,this.user=new n.a(null),this.user$=this.user.asObservable(),this.baseURL=o.a.baseUrl,this.requestHeader=new t.d,this.isValidUser=new n.a(null)}callGetApi(e,r,s,n,o,h={}){try{if(new Date,e=this.baseURL+e,this.requestHeader=new t.d,null!=r)for(let e=0;e<r.length;e++)this.requestHeader=this.requestHeader.set(r[e].Key,JSON.stringify(r[e].Value));return"anonymous"==s&&(this.requestHeader=this.requestHeader.set("requestType","anonymous")),this.http.get(e,{headers:this.requestHeader,params:h}).pipe(Object(i.a)(e=>{let r=this.requestProcessing(e);return console.log(r),r}),Object(u.a)(e=>{let r=this.processhttpHandleError(e);return a.a.throw(r)}))}catch(l){return new a.a(l.Message)}}callPutApi(e,r,s,n,o,h){try{if(new Date,e=this.baseURL+e,this.requestHeader=new t.d,null!=r&&r.length>0)for(let e=0;e<r.length;e++)this.requestHeader=this.requestHeader.set(r[e].Key,JSON.stringify(r[e].Value));"anonymous"==n&&(this.requestHeader=this.requestHeader.set("requestType","anonymous"));const o={headers:this.requestHeader};if(!h)return this.http.put(e,s,o).pipe(Object(i.a)(e=>this.requestProcessing(e)),Object(u.a)(e=>{let r=this.processhttpHandleError(e);return a.a.throw(r.error)}))}catch(l){return new a.a(l.Message)}}callDeleteApi(e,r,s,n,o,h){try{if(new Date,e=this.baseURL+e,this.requestHeader=new t.d,null!=s&&s.length>0)for(let e=0;e<s.length;e++)this.requestHeader=this.requestHeader.set(s[e].Key,JSON.stringify(s[e].Value));"anonymous"==n&&(this.requestHeader=this.requestHeader.set("requestType","anonymous"));const o={headers:this.requestHeader,params:r};if(!h)return this.http.delete(e,o).pipe(Object(i.a)(e=>this.requestProcessing(e)),Object(u.a)(e=>{let r=this.processhttpHandleError(e);return a.a.throw(r.error)}))}catch(l){return new a.a(l.Message)}}callPostApi(e,r,s,n,o,h){try{if(new Date,e=this.baseURL+e,this.requestHeader=new t.d,null!=r&&r.length>0)for(let e=0;e<r.length;e++)this.requestHeader=this.requestHeader.set(r[e].Key,JSON.stringify(r[e].Value));"anonymous"==n&&(this.requestHeader=this.requestHeader.set("requestType","anonymous"));const o={headers:this.requestHeader};if(!h)return this.http.post(e,s,o).pipe(Object(i.a)(e=>this.requestProcessing(e)),Object(u.a)(e=>{let r=this.processhttpHandleError(e);return a.a.throw(r.error)}))}catch(l){return new a.a(l.Message)}}requestProcessing(e){return e.responseType==h.Success||e.responseType==h.Information?null!=e.response&&null!=e.resourceParams&&""!==e.resourceParams&&e.resourceParams.toString().split(",").forEach((r,s)=>{console.log(e.response.message)}):e.responseType==h.Warning||e.responseType==h.Error?null!=e.response&&null!=e.response.message&&this.processHandledError(e):e.responseType==h.Confirm||(e.responseType==h.Exception?null!=e.response&&null!=e.response.message&&(e.isError=!0,this.processHandledError(e)):e.isError=!0),e}processhttpHandleError(e){return null!=e.statusText&&"Unauthorized"==e.statusText?(this._sessionManager.logout(),this.router.navigate(["/login"],{skipLocationChange:!0}),e):(new l(e.status.toString(),e,e.message,"","",!0),e)}processHandledError(e){return e}}return e.\u0275fac=function(r){return new(r||e)(c.Sb(t.b),c.Sb(p.b),c.Sb(d.a))},e.\u0275prov=c.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);